/* AICT GitHub Pages - Notion Snapshot Mobile Fix
   Goal: make layout fit screen and restore scrolling on iOS Safari
*/

@media (max-width: 900px) {
  /* Ensure mobile viewport behavior is not blocked by fixed desktop widths */
  html, body, #notion-app {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Notion export hard locks scroll on html/body/app - we keep the lock,
     but re-enable scrolling on the internal scroller (more reliable on iOS) */
  html.notion-html,
  body.notion-body,
  #notion-app {
    height: 100vh !important;
    overflow: hidden !important;
    position: relative !important;
  }

  /* Re-enable scrolling where Notion expects it */
  .notion-scroller {
    height: 100vh !important;
    max-height: 100vh !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Force content to use full width on mobile */
  .layout,
  .layout-column,
  .layout-row,
  .notion-page,
  .notion-page-content,
  .notion-app-inner {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Override common fixed content widths from desktop mode */
  .layout {
    --content-width: 100% !important;
  }

  /* Images must never overflow */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Add a bit of breathing room so text is not glued to the edges */
  .notion-page-content {
    padding-left: 16px !important;
    padding-right: 16px !important;
    box-sizing: border-box !important;
  }

  /* Typography: scale down desktop snapshot sizes on mobile */
  html {
    font-size: 14px !important; /* base size */
  }

  body {
    font-size: 1rem !important;
    line-height: 1.45 !important;
  }

  /* Headings: avoid giant desktop headlines */
  h1 { font-size: clamp(26px, 7vw, 38px) !important; line-height: 1.1 !important; }
  h2 { font-size: clamp(20px, 5.5vw, 28px) !important; line-height: 1.2 !important; }
  h3 { font-size: clamp(18px, 4.8vw, 22px) !important; line-height: 1.25 !important; }

  /* Images: ensure they fit, and optionally don't dominate */
  img, video, svg {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Some Notion exports wrap images in fixed-width containers */
  figure, .notion-image-block, .notion-asset-wrapper {
    max-width: 100% !important;
  }

  /* Optional: make images a bit smaller than full width */
  img {
    display: block !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: min(100%, 520px) !important;
  }
}